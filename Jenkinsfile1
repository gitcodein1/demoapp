//def nexusRepo = mvnPom.version.endsWith("SNAPSHOT") ? "demo-maven-snapshot-repo" : "demo-maven-release-repo"

pipeline {
    agent {
        label 'node1'
    }
    stages {
        stage("Check Version") {
            steps {
                script {
                    def mvnPom = readMavenPom file: 'pom.xml'
                    //def nexusRepo = mvnPom.version.endsWith("SNAPSHOT") ? "demo-maven-snapshot-repo" : "demo-maven-release-repo"
                    echo "CALL1: ${mvnPom.version}"
                }
            }
        }
        stage("NEW") {
            steps {
                script {
                    def mvnPom = readMavenPom file: 'pom.xml'
                    echo "CALL2: ${mvnPom.version}"
                }
            }
        }
    }
}
